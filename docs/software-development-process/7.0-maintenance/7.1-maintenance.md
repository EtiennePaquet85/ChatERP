# 🔧 ChatERP – Maintenance

---

## 1. 🎯 Objectif du document

Ce document présente le **processus de maintenance** du prototype **ChatERP**.  
Il définit les types de maintenance anticipés, les mécanismes de suivi, les procédures de correction ou d’évolution, ainsi que les documents, outils et bonnes pratiques associés.

---

## 2. 🛠️ Types de maintenance

| Type          | Description                                                                 |
|---------------|-----------------------------------------------------------------------------|
| 🔹 Corrective  | Correction d’anomalies détectées par les utilisateurs, les tests ou les logs |
| 🔹 Adaptative | Ajustement à des évolutions d’environnement technique ou réglementaire       |
| 🔹 Perfective | Amélioration continue de l’expérience, de la lisibilité ou des performances |
| 🔹 Préventive | Renforcement de la robustesse par refactoring, documentation, et tests       |

---

## 3. 🧩 Objectifs de maintenance

| ID         | Objectif                       | Description                                                                          | Alignement             |
|------------|--------------------------------|--------------------------------------------------------------------------------------|------------------------|
| MNT-OBJ-01 | Traçabilité complète           | Relier chaque intervention à un ticket, une exigence et un cas d’utilisation         | REQ-NF-03, REQ-CONT-02 |
| MNT-OBJ-02 | Séparation des responsabilités | Garantir que chaque modification reste localisée dans un composant clairement défini | REQ-NF-02, REQ-CONT-03 |
| MNT-OBJ-03 | Non-régression garantie        | Revalider systématiquement après chaque correction pour éviter toute régression      | REQ-NF-03, REQ-NF-04   |
| MNT-OBJ-04 | Documentation synchronisée     | Assurer la mise à jour des documents de conception, test et validation               | REQ-NF-03              |
| MNT-OBJ-05 | Amélioration continue          | Centraliser et traiter les demandes perfectives ou ergonomiques                      | REQ-F-05               |
| MNT-OBJ-06 | Réduction du coût futur        | Favoriser les maintenances préventives (tests, refactoring, modularité)              | REQ-NF-02, REQ-NF-04   |
| MNT-OBJ-07 | Déploiement maîtrisé           | Intégrer toute correction dans un pipeline de test et livraison contrôlé             | REQ-NF-05              |

---

## 4. 📌 Procédure de maintenance

L’ensemble du processus de maintenance repose sur la détection, la journalisation, la correction, la livraison et la validation des modifications.  
Les étapes suivantes assurent une traçabilité rigoureuse et une qualité constante du système ChatERP.

#### 4.1 Identifier la source de l’incident

La source de l’incident peut provenir de :  
- Utilisateurs (signalement via interface ou création d’un ticket Git)  
- Tests automatisés (échecs détectés par Vitest, xUnit, Pytest)  
- Analyse des journaux (fichiers `logs/`, observabilité via Docker)  
- Outils de couverture (alertes ou régressions détectées via `test-coverage`, rapports HTML)

| Source de détection   | Description                                                          |
|----------------------|-----------------------------------------------------------------------|
| Utilisateur          | Signalement via interface ou création de ticket Git                   |
| Tests automatisés    | Échecs détectés par Vitest, xUnit, Pytest                             |
| Analyse des journaux | Fichiers `logs/`, observabilité via Docker                            |
| Outils de couverture | Alertes ou régressions détectées via `test-coverage`, rapports HTML   |

#### 4.2 Créer un nom de ticket formel

- Respecter le format suivant pour le ticket : `ISSUE-aaaa-mm-DOM-xxx`

| Champ                | Abréviation | Description                          | Exemple                  |
|----------------------|-------------|--------------------------------------|--------------------------|
| Année                | `aaaa`      | Année de création du ticket          | `2025`                   |
| Mois                 | `mm`        | Mois (2 chiffres)                    | `08`                     |
| Domaine fonctionnel  | `DOM`       | Composant ou périmètre concerné      | `EMP`, `CLI`, `SEC`      |
| Identifiant unique   | `xxx`       | Incrément dans le mois et le domaine | `001`, `002`, `010`      |

- Voici un exemple de nom de ticket formel : `ISSUE-2025-08-EMP-001`

#### 4.3 Choisir le domaine fonctionnel

- Sélectionner le domaine fonctionnel selon ce tableau :

| Domaine               | Abréviation | Description                                      | Exemples typiques                            |
|-----------------------|-------------|------------------------------------------------|----------------------------------------------|
| Employé               | `EMP`       | Gestion des employés                            | Erreur suppression, mauvais manager          |
| Client                | `CLI`       | Gestion des clients                             | Pagination incorrecte, doublons              |
| Produit               | `PRD`       | Catalogue, stock, prix                          | Mauvais calcul de stock                      |
| Interface utilisateur | `INT`       | UI/UX frontend                                  | Bouton manquant, surcharge mobile            |
| Sécurité              | `SEC`       | Accès, autorisations, audit                     | Faille XSS, absence de logging               |
| Intégration           | `API`       | APIs REST, inter-systèmes                       | Erreur HTTP 500 sur PUT /employees           |
| Documentation         | `DOC`       | Guides internes, API, fichiers de référence     | README.md erroné, doc incomplète             |
| Tests                 | `TST`       | Tests automatisés et outils                     | Test faux-positif, couverture insuffisante   |

#### 4.4 Classifier le type de maintenance

- Déterminer le type de maintenance à appliquer :

| Type        | Description                                                                | Exemple concret                                 |
|-------------|----------------------------------------------------------------------------|-------------------------------------------------|
| Corrective  | Corriger un dysfonctionnement du système                                   | Suppression d’un employé échouée                |
| Perfective  | Améliorer une fonctionnalité existante                                     | Amélioration du responsive mobile               |
| Adaptative  | Adapter à un changement externe (environnement, dépendance)                | Passage à PostgreSQL 16                         |
| Préventive  | Amélioration proactive, robustesse, documentation, test                    | Ajout de tests de non-régression                |

#### 4.5 Définir la priorité

- Attribuer une priorité selon l’impact métier :

| Niveau   | Abréviation | Description                                                   | Exemple                                      |
|----------|-------------|---------------------------------------------------------------|----------------------------------------------|
| Critique | `P1`        | Affecte cœur métier ou bloque des cas d’utilisation majeurs   | UC04 bloqué en production                    |
| Majeure  | `P2`        | Dysfonctionnement partiel ou workaround possible              | Erreur UI dans certains cas                  |
| Mineure  | `P3`        | Problème esthétique ou accessoire sans impact fonctionnel     | Champ mal aligné, icône manquante            |

#### 4.6 Ajouter les références croisées

- Associer le ticket aux artefacts impactés :

| Type d’artefact      | Abréviation | Description                               | Exemples                        |
|----------------------|-------------|-------------------------------------------|---------------------------------|
| Exigence             | `REQ`       | Fonctionnelle ou non-fonctionnelle        | `REQ-F-01`, `REQ-NF-02`         |
| Cas d’utilisation    | `UCS`       | Fonctionnalité métier                     | `UCS-UC-01`, `UCS-UC-03b`       |
| Cas de test          | `TC`        | Scénario de test automatisé               | `TC-02`, `TC-07`                |
| Élément de validation| `VAL`       | Condition finale de validation            | `VAL-01`, `VAL-02a`             |

#### 4.7 Appliquer la correction, tester et fusionner

- Créer une branche dédiée (`fix/ISSUE-xxxx` ou `improve/ISSUE-xxxx`).  
- Appliquer les modifications dans `Frontend`, `Backend`, `Database`.  
- Relancer les tests unitaires et d’intégration ciblés.  
- Mettre à jour la couverture via `Vitest`, `xUnit`, `pytest`, `test-coverage`.  
- Soumettre une Pull Request pour validation et revue.  
- Fusionner la branche de correctif dans la branche principale `main` après validation.

| Étape                       | Description                                                              |
|-----------------------------|--------------------------------------------------------------------------|
| Créer branche dédiée        | Créer une branche spécifique au ticket                                  |
| Appliquer modification      | Travailler sur les composants concernés                                 |
| Relancer tests              | Exécuter et valider les tests                                           |
| Mettre à jour couverture    | Vérifier et améliorer la couverture                                     |
| Soumettre revue             | Valider avant fusion via Pull Request                                   |
| Fusionner dans `main`       | Intégrer le correctif dans la branche principale après revue            |

#### 4.8 Déclencher la chaîne CI/CD et déployer

- Déclencher la chaîne CI/CD pour automatiser la build et le déploiement via `chaterp-compose`.  
- Déployer en environnement de test (qualification).  
- Mettre à jour la grille de validation dans `5.2-validation.md`.

| Étape                     | Description                                                              |
|---------------------------|--------------------------------------------------------------------------|
| CI/CD déclenchée          | Automatisation via `chaterp-compose`, build et déploiement               |
| Déploiement en test       | Déploiement en environnement de qualification                           |
| Mise à jour validation    | Synchronisation avec la grille `5.2-validation.md`                       |

#### 4.9 Vérifier la conformité et attribuer le statut final

| Étape                  | Description                                                      |
|------------------------|-----------------------------------------------------------------|
| Vérifier la conformité | Contrôler les artefacts (`REQ`, `UCS`, `VAL`, `TC`)             |
| Mettre à jour la grille| Actualiser le suivi dans `validation.md`                        |
| Attribuer le statut    | Consigner le statut final du ticket selon l’avancement          |

| Statut      | Description                         |
|-------------|-----------------------------------|
| ✅ Terminé  | Correctif ou évolution validée    |
| ⏳ En cours  | Travaux en cours                  |
| 🕒 À venir  | Planifié, non commencé            |

---

## 5. 📋 Journal de maintenance (exemple)

| ID         | Nom du ticket             | Type        | Description                                                   | Statut      | Alignement                             |
|------------|---------------------------|-------------|---------------------------------------------------------------|-------------|----------------------------------------|
| MNT-INC-01 | ISSUE-2025-06-EMP-001     | Corrective  | Erreur lors de la suppression d’employés, clients et produits | ✅ Corrigé  | `REQ-F-04`, `UCS-UC-04`                |
| MNT-INC-02 | ISSUE-2025-07-INT-002     | Perfective  | Amélioration de l’ergonomie mobile de la fiche employé        | ⏳ En cours | `REQ-F-05`, `UCS-UC-02a`, `UCS-UC-03`  |
| MNT-INC-03 | ISSUE-2025-08-CLI-001     | Perfective  | Ajout du tri par nom dans la liste des clients                | 🕒 À venir  | `REQ-F-03`, `UCS-UC-01a`               |

---

## 6. 📁 Documentation associée

| Élément                    | Fichier               | Utilité                                                             |
|----------------------------|-----------------------|---------------------------------------------------------------------|
| Vision du système          | `1.1-vision.md`       | Vérifier l’alignement stratégique et métier des changements         |
| Exigences fonctionnelles   | `1.2-requirements.md` | Identifier les exigences affectées par la maintenance               |
| Cas d’utilisation          | `1.3-use-cases.md`    | Repérer les interactions utilisateur concernées                     |
| Architecture               | `2.1-architecture.md` | Visualiser les flux inter-systèmes et les dépendances techniques    |
| Conception                 | `3.1-design.md`       | Comprendre la logique métier et l’organisation interne des modules  |
| Construction               | `4.1-construction.md` | Identifier précisément les fichiers et fonctions à modifier         |
| Tests                      | `5.1-tests.md`        | Cibler et relancer les tests impactés par la correction             |
| Validation                 | `5.2-validation.md`   | Vérifier et tracer la conformité post-maintenance                   |
| Déploiement                | `6.1-deployment.md`   | Redéployer le système après application des changements             |

---

## 7. 🧩 Alignement avec la stratégie ChatERP

| Objectif stratégique                 | Mécanisme associé                                 |
|--------------------------------------|---------------------------------------------------|
| Traçabilité complète                 | Liens explicites entre tickets, exigences et tests|
| Code maintenable                     | Refactoring, typage strict, séparation des couches|
| Amélioration continue                | Demandes perfectives centralisées et traitées     |
| Non-régression garantie              | Réexécution automatique de tests post-fix         |
| Documentation synchronisée           | Références croisées dans les fichiers `.md`       |

---

## 8. 🧩 Alignement SWEBOK

Ce processus s’inscrit dans la discipline *Software Maintenance* du SWEBOK :  
- 📌 Suivi et gestion des demandes de changement  
- 📄 Documentation systématique des interventions  
- ✅ Revalidation post-maintenance automatisée  
- 🔁 Intégration avec le cycle de vie logiciel, incluant la qualité, le test, la configuration et le déploiement  

---

## 9. 🔚 Conclusion

Le processus de maintenance défini pour **ChatERP** garantit une gestion rigoureuse et traçable des interventions, qu’elles soient correctives, adaptatives, perfectives ou préventives.

Grâce à une procédure claire, un suivi systématique des tickets et un alignement étroit avec les exigences fonctionnelles et non fonctionnelles, ce processus assure la qualité, la stabilité et l’évolutivité du prototype.

L’intégration avec les outils de tests automatisés, la documentation synchronisée et la conformité aux bonnes pratiques SWEBOK contribuent à limiter les régressions et à optimiser le coût global de maintenance.

Cette démarche prépare ChatERP à évoluer sereinement tout en maintenant un haut niveau de confiance auprès des utilisateurs et parties prenantes.
