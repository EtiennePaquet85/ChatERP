# 🧾 ChatERP – Cas d’utilisation

---

## 1. 🎯 Objectif du document

Ce document présente les **cas d’utilisation fonctionnels** du prototype **ChatERP**.  
Il décrit de manière structurée les interactions attendues entre les utilisateurs et le système, en lien avec les objectifs fonctionnels identifiés dans le document de vision.  
Il constitue une base pour la conception détaillée, les scénarios de validation et la traçabilité des exigences.

---

## 2. 📌 Portée, définitions et références

### 2.1 Portée

Ce document couvre :  

- La création, consultation, modification et suppression d’employés (CRUD) 
- La validation fonctionnelle du prototype initial

### 2.2 Définitions

| Terme             | Définition                                                                                  |
|-------------------|---------------------------------------------------------------------------------------------|
| Cas d’utilisation | Description d’un scénario fonctionnel représentant un objectif utilisateur avec le système. |
| Employé           | Utilisateur du système en charge de la gestion des ressources humaines.                     |

### 2.3 Références

- Traçabilité [0.2-process-traceability.md]
- Vision [1.1-vision.md]
- Exigences [1.2-requirements.md]
- Guide SWEBOK v4.0 (2024) [IEEE Computer Society]

---

## 3. 🧩 Détail des cas d’utilisation

| ID         | Acteur   | Titre                            | Priorité | Description succincte                                 | Alignement  |
|------------|----------|----------------------------------|----------|-------------------------------------------------------|-------------|
| UCS-UC-01a | Employé  | Créer un employé                 | Critique | Permet d’ajouter un nouvel employé au système.        | REQ-F-01    |
| UCS-UC-01b | Employé  | Téléverser une photo d’employé   | Haute    | Permet d’envoyer une photo à associer à un employé.   | REQ-F-01    |
| UCS-UC-02a | Employé  | Consulter la liste d’employés    | Critique | Affiche la liste complète des employés enregistrés.   | REQ-F-02    |
| UCS-UC-02b | Employé  | Consulter un employé             | Critique | Affiche les informations d’un employé existant.       | REQ-F-02    |
| UCS-UC-03  | Employé  | Modifier un employé              | Critique | Permet de modifier les données d’un employé.          | REQ-F-03    |
| UCS-UC-04  | Employé  | Supprimer un employé             | Critique | Supprime un employé du système.                       | REQ-F-04    |

### 3.1 UCS-UC-01a — Créer un employé

| Élément            | Détail                                                                  |
|--------------------|-------------------------------------------------------------------------|
| **Acteur**         | Employé                                                                 |
| **Préconditions**  | L’utilisateur a accès au système.                                       |
| **Déclencheur**    | L’utilisateur souhaite enregistrer un nouvel employé.                  |
| **Scénario nominal** | 1. L’utilisateur ouvre le formulaire de création. <br>2. Il saisit les données requises (nom, rôle, courriel, etc.). <br>3. Il ajoute une photo (voir UC-01b). <br>4. Il valide la création. <br>5. Le système enregistre l’employé et confirme l’ajout. |
| **Postconditions** | L’employé est enregistré dans la base de données.                      |
| **Exceptions**     | Données invalides, duplication de courriel, erreurs de validation, erreur de téléversement (voir UC-01b). |
| **Priorité**       | Critique                                                                |

### 3.1b UCS-UC-01b — Téléverser une photo d’employé

| Élément            | Détail                                                                 |
|--------------------|------------------------------------------------------------------------|
| **Acteur**         | Employé                                                                |
| **Préconditions**  | L’utilisateur accède à un formulaire de création ou de modification.  |
| **Déclencheur**    | L’utilisateur sélectionne une photo à joindre à un employé.           |
| **Scénario nominal** | 1. L’utilisateur choisit un fichier image (JPEG, PNG, etc.). <br>2. Le système encode l’image en base64. <br>3. Le fichier est téléversé via une API dédiée. <br>4. Le système retourne une URL de stockage, enregistrée dans `photoUrl`. |
| **Postconditions** | La photo est stockée dans le système, liée au dossier de l’employé.   |
| **Exceptions**     | Format d’image invalide, taille excessive, erreur réseau ou serveur.  |
| **Priorité**       | Haute                                                                  |

### 3.2a UCS-UC-02a — Consulter la liste d’employés

| Élément            | Détail                                                                  |
|--------------------|-------------------------------------------------------------------------|
| **Acteur**         | Employé                                                                 |
| **Préconditions**  | La base de données contient au moins un employé.                       |
| **Déclencheur**    | L’utilisateur souhaite voir la liste des employés enregistrés.         |
| **Scénario nominal** | 1. L’utilisateur ouvre la section « Liste des employés ». <br>2. Le système affiche tous les employés existants, triés par identifiant. |
| **Postconditions** | Aucune modification (lecture seule).                                   |
| **Exceptions**     | Aucune (liste vide si aucun employé).                                  |
| **Priorité**       | Critique                                                                |

### 3.2b UCS-UC-02b — Consulter un employé

| Élément            | Détail                                                                  |
|--------------------|-------------------------------------------------------------------------|
| **Acteur**         | Employé                                                                 |
| **Préconditions**  | Un ou plusieurs employés sont déjà enregistrés.                         |
| **Déclencheur**    | L’utilisateur souhaite afficher les informations d’un employé.         |
| **Scénario nominal** | 1. L’utilisateur consulte la liste d'employés (voir UC-02a). <br>2. Il sélectionne un employé. <br>3. Le système affiche les informations détaillées. |
| **Postconditions** | Aucune modification (lecture seule).                                   |
| **Exceptions**     | Employé introuvable, accès refusé.                                      |
| **Priorité**       | Critique                                                                |

### 3.3 UCS-UC-03 — Modifier un employé

| Élément            | Détail                                                                  |
|--------------------|-------------------------------------------------------------------------|
| **Acteur**         | Employé                                                                 |
| **Préconditions**  | L’employé à modifier existe.                                            |
| **Déclencheur**    | L’utilisateur souhaite corriger ou mettre à jour les données.          |
| **Scénario nominal** | 1. L’utilisateur sélectionne un employé. <br>2. Il clique sur « Modifier ». <br>3. Il met à jour les champs (incluant la photo si nécessaire, voir UC-01b). <br>4. Il enregistre les modifications. |
| **Postconditions** | Les données de l’employé sont mises à jour.                            |
| **Exceptions**     | Données invalides, conflits de modification, échec du téléversement (voir UC-01b). |
| **Priorité**       | Critique                                                                |

### 3.4 UCS-UC-04 — Supprimer un employé

| Élément            | Détail                                                                  |
|--------------------|-------------------------------------------------------------------------|
| **Acteur**         | Employé                                                                 |
| **Préconditions**  | L’employé à supprimer existe.                                           |
| **Déclencheur**    | L’utilisateur souhaite retirer un employé de la base de données.       |
| **Scénario nominal** | 1. L’utilisateur sélectionne un employé. <br>2. Il clique sur « Supprimer ». <br>3. Il confirme l’action. <br>4. Le système supprime l’employé. |
| **Postconditions** | L’employé est retiré définitivement du système.                         |
| **Exceptions**     | Suppression impossible (liens de dépendance, erreur système).           |
| **Priorité**       | Critique                                                                |

---

## 4. 🧠 Notes

Les cas d’utilisation présentés ci-dessus constituent une base pour :

- la conception des **diagrammes de séquence** associés ;
- la rédaction des **tests fonctionnels** du prototype ;
- la définition des **interfaces utilisateur**.

Dans le cadre de ces travaux, il est important de souligner l’approche retenue concernant la consultation des données ; contrairement à la logique CRUD classique qui se limite souvent à la lecture par identifiant, le prototype distingue explicitement deux usages complémentaires :

- **UCS-UC-02a** : consultation de la **liste complète des employés** ;
- **UCS-UC-02b** : consultation **d’un employé individuel**.

Cette séparation vise à clarifier la logique métier, faciliter le design des écrans et garantir une couverture de test précise et complète.

---

## 5. 🗂️ Diagrammes

| Diagramme                        | Fichier associé                      | Description                                            |
|----------------------------------|--------------------------------------|--------------------------------------------------------|
| Diagrammes de cas d’utilisation  | `use-cases-diagram.puml`             | Vue d’ensemble des cas d’utilisation liés aux employés |

📁 Fichier disponible dans `docs/software-diagrams/1.0-requirements/`

---

## 6. 🔚 Conclusion

Ce document formalise les cas d’utilisation clés du prototype **ChatERP**, facilitant ainsi la conception, le développement et la validation.  
Il assure une bonne traçabilité des besoins et guide l’évolution fonctionnelle du système.
